{
  "name": "rpc.js",
  "description": "A simple JSON-RPC Api Server for nodeJS",
  "version": "0.4.3",
  "author": {
    "name": "Hugo Rodrigues",
    "email": "correio@hugorodrigues.com"
  },
  "repository": {
    "type": "git",
    "url": "git+https://hugorodrigues@github.com/hugorodrigues/rpc.js.git"
  },
  "keywords": [
    "webservice",
    "api",
    "rpc",
    "JSON-RPC",
    "JSON",
    "framework",
    "flatiron",
    "express"
  ],
  "main": "./rpc",
  "dependencies": {
    "socket.io": "0.9.14"
  },
  "readme": "<img src=\"http://i.imgur.com/DNNlN.png\" width=\"800\" border = \"0\"/>\n\n# rpc.js\n\n*Simple and lightweight JSON-RPC [gateway, server and documentation] for Node.JS*\n\nYou can use it standalone (without any dependency) or integrate in your favorite framework (tested with flatiron and express)\n\n---\n\n## Main Features\n- Simple, Lightweight and Fast\n- Minimal implementation. Less than 200 LOC (with comments!)\n- Multi server. Ship's with http(s), telnet and socket.io\n- Decoupled. Use your api without any server\n- Auto API documentation and interactive testing\n- Automaticaly validates required parameters\n- Integrates great with any framework\n- Works with POST or GET (if using the http server)\n- Compatible with jsonp (for cross-domain requests)\n- You can have multiple API version's exposed\n\n---\n## Try a demo\n\n```bash\ngit clone https://hugorodrigues@github.com/hugorodrigues/rpc.js.git\nnode rpc.js/examples/servers/http.js\n```\nOpen your browser: http://127.0.0.1:3000/help\n\n\n\n\n---\n## How it works\nYou simply define your methods and set the parameters.\n\n**Method declaration structure**\n```js\nmethodName: {\n\tinfo: 'Description of your method',\n\tparams: {\n\t\tparamFoo: { required: true, type: 'number', info: 'Description of paramFoo'},\n\t\tparamBar: { required: false, type: 'string', info: 'Description of paramBar'}\n\t},\n\taction: function(params,output)\n\t{\n\t\t// Do your stuff here\n\t\t// You can use the params: params.paramFoo params.paramBar\n\t\t// When ready output with: output.win(result);\n\n\t\t// On error output with: output.fail(errorCode,errorMsg,errorData);\n\t}\n},\n```\n\n**Example method that sum two numbers:**\n```js\nsum: {\n\tinfo: 'Sum two numbers',\n\tparams: {\n\t\tx: { required: true, type: 'number', info: 'X value'},\n\t\ty: { required: true, type: 'number', info: 'Y value'}\n\t},\n\taction: function(params,output)\n\t{\n\t\tvar result = parseInt(params.x) + parseInt(params.y);\n\t\toutput.win(result);\n\t}\n},\n```\n\n\n\n---\n## Full Example\n\nThe following example will create a JSON-RPC server on 127.0.0.1:3000 with two methods:\n- sum\n- helloWorld (Note that this method requires the param name to be \"World\")\n\n```js\n// Load rpc.js\nvar rpc = require('rpc.js');\n\n// Define you schema/Api\nvar apiSchema = {\n\t// Groups - Used to categorize your methods\n\tgroups: {\n\t\tmath: {\n\t\t    name: 'Math',\n\t\t    info: 'Some example math methods',\n\t\t},\n\t\tutil: {\n\t\t    name: 'Utility calls',\n\t\t    info: 'API test, debug and utility methods',\n\t\t}\n\t},\n\n\t// Your API methods\n\tmethods: {\n\n\t\tsum: {\n\t\t\tinfo: 'Adding two numbers',\n\t\t\tgroup: 'math',\n\t\t\tparams: {\n\t\t\t\tx: { required: true, type: 'number', info: 'X value'},\n\t\t\t\ty: { required: true, type: 'number', info: 'Y value'}\n\t\t\t},\n\t\t\taction: function(params,output)\n\t\t\t{\n\t\t\t\tvar result = parseInt(params.x) + parseInt(params.y);\n\t\t\t\toutput.win(result);\n\t\t\t}\n\t\t},\n\n\t\thelloWorld: {\n\t\t\tinfo: 'Say hello!',\n\t\t\tgroup: 'util',\n\t\t\tparams: {\n\t\t\t\tname: { required: true, type: 'string', info: 'The name - Must be \"World\"'}\n\t\t\t},\n\t\t\taction: function(params,output)\n\t\t\t{\n\t\t\t\tif (params.name == 'World')\n\t\t\t\t\toutput.win(\"Hello World!\");\n\t\t\t\telse\n\t\t\t\t\toutput.fail(500,'The param \"name\" should be \"World\"');\n\n\t\t\t}\n\t\t}\n\n\t}\n};\n\n\n// Run a HTTP server on 127.0.0.1:3000 and with your schema\nrpc.server('http', {\n\tport: 3000,\n\taddress: '127.0.0.1',\n\tgateway: rpc.gateway({ schema: apiSchema }) // Your previously defined apiSchema\n});\n\n\n```\n\nWhen the server is running, you can open http://127.0.0.1:3000/help to view the documenation and start testing your API.\n\nInside the action you can output successful responses with `output.win(\"Hello World\");` or error messages with `output.fail(500, \"You error Message\");`\nCheck the file /examples/example.schema.js for the full schema used in the demo and Screenshot's.\n\n\n\n\n\n---\n## Consuming your api\n\nJust like you do with any regular JSON-RPC api. Some examples:\n\n#### In browser (using jquery)\n```js\njQuery.post('http://127.0.0.1:3000', {rpc:JSON.stringify({\n    method:'sum', \n    params: { x: 10, y:5 }\n})}, function (data){\n    \n    console.log(data.result);\n    // 15\n\n}, 'json');\n```\n\n#### Command line (Curl)\n```bash\ncurl -i -X POST -d rpc='{\"method\":\"sum\",\"params\":{\"x\":\"10\",\"y\":\"5\"}}' http://127.0.0.1:3000/\n```\nWill Output: `{\"jsonrpc\":\"2.0\",\"result\":15}`\n\n\n\n\n\n\n---\n## Examples\nrpc-js is very flexible and can be adapted to your needs. Check the /examples:\n\n[examples/servers/http.js](/hugorodrigues/rpc.js/blob/master/examples/servers/http.js) - Standalone HTTP server implementation. \n\n[examples/servers/socketio.js](/hugorodrigues/rpc.js/blob/master/examples/servers/socketio.js) - Socket.Io Implementation. \n\n[examples/servers/telnet.js](/hugorodrigues/rpc.js/blob/master/examples/servers/telnet.js) - Socket server Implementation. \n\n[examples/dummy/index.js](/hugorodrigues/rpc.js/blob/master/examples/dummy/index.js) - This examples shows you how to use your api without any server. Is usefull when you need to access your api inside another nodejs application.\n\n[examples/express/index.js](/hugorodrigues/rpc.js/blob/master/examples/express/index.js) - Using your API in a expressJs Application\n\n[examples/flatiron/index.js](/hugorodrigues/rpc.js/blob/master/examples/flatiron/index.js) - Using your API in a flatiron Application\n\n[examples/multi-schema/index.js](/hugorodrigues/rpc.js/blob/master/examples/multi-schema/index.js) - Insted of having a large schema, you can divide your api code base in a class-like fashion, This example is suggested if you have a big api and/or prefer use multiple object files.\n\n[examples/multi-server/index.js](/hugorodrigues/rpc.js/blob/master/examples/multi-server/index.js) - Expose the same API in multiple http ports\n\n[examples/multi-version/index.js](/hugorodrigues/rpc.js/blob/master/examples/multi-version/index.js) - Expose multiple versions of your API (/v1, /v2 etc...)\n\n\n\n\n\n---\n## Inspiration\nThe automatic ui/documentation was inspired by webservice.js by Marak Squires\nhttps://github.com/Marak/webservice.js \n\n\n---\n## License \n\n(The MIT License)\n\nCopyright (c) 2012, Hugo Rodrigues <correio@hugorodrigues.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.",
  "_id": "rpc.js@0.4.3",
  "dist": {
    "shasum": "05e7f10b09012da48fb7650965fc175f90b8d66e",
    "tarball": "http://registry.npmjs.org/rpc.js/-/rpc.js-0.4.3.tgz"
  },
  "maintainers": [
    {
      "name": "hugorodrigues",
      "email": "correio@hugorodrigues.com"
    }
  ],
  "directories": {},
  "_shasum": "05e7f10b09012da48fb7650965fc175f90b8d66e",
  "_resolved": "https://registry.npmjs.org/rpc.js/-/rpc.js-0.4.3.tgz",
  "_from": "rpc.js@0.4.3",
  "bugs": {
    "url": "https://github.com/hugorodrigues/rpc.js/issues"
  },
  "homepage": "https://github.com/hugorodrigues/rpc.js#readme"
}
